{% extends "editor_base.html" %}

{% block head %}
{{ parent() }}
    <!-- <link rel="stylesheet" href="{{ base_url }}/plugins/{{ yocto_dir }}/style.css" type="text/css" /> -->
    <link rel="stylesheet" href="{{ base_url }}/plugins/{{ yocto_dir }}/single_style.css" type="text/css" />
    <link rel="stylesheet" href="{{ base_url }}/plugins/{{ yocto_dir }}/editor/paper.css" type="text/css" />
    <link rel="stylesheet" href="{{ base_url }}/plugins/{{ yocto_dir }}/editor/editor.css" type="text/css" />
    <link rel="stylesheet" href="{{ base_url }}/plugins/{{ yocto_dir }}/editor/vendor/icomoon/style.css" type="text/css" />
{% endblock %}

{% block content %}
    <div id="saving"><span class="text">Saving...</span></div>
    <div id="error">{{ error }}</div>
    <div class="editorwrap">
      <select class="tree-filter" data-width="50%">
      {% for page in pages %}
        <option value="{{ page.url }}">{{ page.url | shorturl }}</option>
      {% endfor %}
      </select>
      <textarea>{{ content }}</textarea>
    </div>
{% endblock %}

{% block scripts %}
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.1/jquery.min.js"></script>
<script src="{{ base_url }}/plugins/{{ yocto_dir }}/chosen/chosen.jquery.min.js"></script>
<script src="{{ base_url }}/plugins/{{ yocto_dir }}/editor/marked.min.js"></script>
<script src="{{ base_url }}/plugins/{{ yocto_dir }}/editor/vendor/codemirror.js"></script>
<script src="{{ base_url }}/plugins/{{ yocto_dir }}/editor/vendor/continuelist.js"></script>
<script src="{{ base_url }}/plugins/{{ yocto_dir }}/editor/vendor/markdown.js"></script>
<script src="{{ base_url }}/plugins/{{ yocto_dir }}/editor/vendor/xml.js"></script>
<script src="{{ base_url }}/plugins/{{ yocto_dir }}/editor/src/intro.js"></script>
<script src="{{ base_url }}/plugins/{{ yocto_dir }}/editor/src/editor.js"></script>
<script type="text/javascript">
$(function() {
  var editor = new Editor();
  editor.render();

  // file selector
  $('.tree-filter').each(function(){
    $(this).chosen({ width: $(this).data('width') || '' });
  }).change(function(){
      
  });
});
</script>
{% endblock %}
